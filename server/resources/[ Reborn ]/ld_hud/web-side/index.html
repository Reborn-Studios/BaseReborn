<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400;500;700&display=swap"
         rel="stylesheet">
      <link href="vendor/flexboxgrid.6.3.1.min.css" rel="stylesheet">
      </link>
      <link href="vendor/animate.3.5.2.min.css" rel="stylesheet">
      </link>
      <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
      <link rel="stylesheet" href="src/css/hud.css">
      <link rel="stylesheet" href="src/css/notify.css">
      <link rel="stylesheet" href="src/css/chat.css">
      <link rel="stylesheet" href="src/css/notifyitens.css">
      <link rel="stylesheet" href="src/css/progress.css">
      <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v6.0.0-beta3/css/all.css">
      <link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&display=swap" rel="stylesheet">
      <script src="src/vendor/vue.2.3.3.min.js"></script>
      <script src="src/js/utils/config.default.js"></script>
   </head>
   <body style="display: flex;">
      <div id="logo">
         <img src="./src/img/logo.png">
      </div>
      <div id="hoodDisplay"></div>
      <div class="container">
         <div class="bars-container">
            <div class="bars">
               <div class="top">
                  <div class="icon">
                     <img src="src/img/heart.png" alt="">
                  </div>
                  <div class="bar-container">
                     <div class="bar">
                        <div class="bar-filledl life"></div>
                     </div>
                  </div>
               </div>
               <div class="bottom">
                  <div class="icon">
                     <img src="src/img/shield.png" alt="">
                  </div>
                  <div class="bar-container">
                     <div class="bar">
                        <div class="bar-filleds shield"></div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="playerHud">
         <div class="circle" id="fome">
            <svg class="svgCircle">
               <circle circle class="circleBack" r="18" cx="50%" cy="50%"></circle>
               <circle class="foodFill circleFill" r="18" cx="50%" cy="50%"></circle>
            </svg>
            <i class="fa-solid fa-burger-cheese"></i>
         </div>
         <div class="circle" id="sede">
            <svg class="svgCircle">
               <circle circle class="circleBack" r="18" cx="50%" cy="50%"></circle>
               <circle class="waterFill circleFill" r="18" cx="50%" cy="50%"></circle>
            </svg>
            <i class="fa-solid fa-droplet"></i>
         </div>
         <div class="circle" id="stress">
            <svg class="svgCircle">
               <circle circle class="circleBack" r="18" cx="50%" cy="50%"></circle>
               <circle class="stressFill circleFill" r="18" cx="50%" cy="50%"></circle>
            </svg>
            <i class="fa-solid fa-bolt"></i>
         </div>
         <div class="circle" id="swim">
            <svg class="svgCircle">
               <circle circle class="circleBack" r="18" cx="50%" cy="50%"></circle>
               <circle class="swimFill circleFill" r="18" cx="50%" cy="50%"></circle>
            </svg>
            <i class="fa-solid fa-person-swimming"></i>
         </div>
      </div>
      <div class="microphone" id="mic">
         <i class="fa-solid fa-circle-microphone"></i>
         <test style="transform: rotate(180deg);">
            <div class="micStatus qTalk"></div>
            <div class="micStatus qTalk"></div>
            <div class="micStatus qTalk"></div>
         </test>
      </div>
      <div class="velocimeterHud" style="display: none;">
         <svg class="circle" width="50" height="50">
            <circle class="outer" stroke="#FFFFFF" stroke-width="2.8" style="stroke-opacity: 0.2;" fill="transparent" r="18"
               cx="26" cy="26" stroke-dasharray="62 90" stroke-dashoffset="0" />
            <circle class="progress progress-speed" stroke="url(#gradient)" stroke-width="2.5" style="stroke-opacity: 1;"
               fill="transparent" r="18" cx="26" cy="26" stroke-dasharray="45.7 90" stroke-dashoffset="0" />
            <defs>
               <linearGradient id="gradient">
                  <stop offset="30%" stop-color="#fff" />
                  <stop offset="100%" stop-color="#fff" />
               </linearGradient>
            </defs>
         </svg>
         <svg class="circle2" width="50" height="50">
            <circle class="outer" stroke="#FFFFFF" stroke-width="1.5" style="stroke-opacity: 0.2;" fill="transparent" r="18"
               cx="26" cy="26" stroke-dasharray="62 90" stroke-dashoffset="0" />
            <circle class="progress progress-fuel" stroke="url(#gradient2)" stroke-width="1.5" style="stroke-opacity: 1;"
               fill="transparent" r="18" cx="26" cy="26" stroke-dasharray="45.7 90" stroke-dashoffset="0" />
            <defs>
               <linearGradient id="gradient2">
                  <stop offset="30%" stop-color="#ffce2c" />
                  <stop offset="100%" stop-color="#ffce2c" />
               </linearGradient>
            </defs>
         </svg>
         <h1 class="velo">0<b>96</b></h1>
         <span>KMH</span>
         <div class="carInfo">
            <img src="src/img/belt.svg" class="seatbelt">
            <img src="src/img/arrow.svg" class="lightCar" id="lightLeft" style="transform: scaleX(-1); opacity: 0;">
            <img src="src/img/arrow.svg" class="lightCar" id="lightRight">
         </div>
         <div id="farol"><img src="https://cdn.discordapp.com/attachments/955583254650560552/991626638947254282/farol.png"
            alt="">
         </div>
         <div id="motor"><img src="https://cdn.discordapp.com/attachments/955583254650560552/991629691360391168/m1.png"
            alt=""></div>
      </div>
      <div class="serverInfos">
         <div class="item ammo"></div>
         <div class="item radio"></div>
         <div class="item">
            <div class="icon">
               <i class="fa-solid fa-clock-seven"></i>
            </div>
            <span class="hour">00:00</span>
         </div>
         <div class="item">
            <div class="icon">
               <i class="fa-solid fa-location-dot"></i>
            </div>
            <span class="location">...</span>
         </div>
      </div>
      <div id="notifications" class="normal"></div>
      <div id="notifications" class="center"></div>
      <div id="notifications" class="bottom2"></div>
      <div id="notifications" class="left"></div>
      <div id="app"></div>
      <div id="notifyitens">
      </div>
      <script>
         $(document).ready(function () {
           window.addEventListener("message", function (event) {
             var timeoutFn = undefined;
             if (event.data.teste) {
             $("#outerdivprogress").css("opacity","1");
             var start = new Date();
             var maxTime = event.data.time;
             var timeoutVal = Math.floor(maxTime / 115);
             animateUpdate();

             function updateProgress(percentage) {
               var $circle = $('#svg #bar');
               var r = $circle.attr('r');
               var c = Math.PI * (r * 2);
               var pct = ((100 - percentage) / 100) * c;
               $circle.css({ strokeDashoffset: pct });
             };

             function animateUpdate() {
               var now = new Date();
               var timeDiff = now.getTime() - start.getTime();
               var perc = Math.round((timeDiff / maxTime) * 100);
               if (perc == 100) {
                 const check = false
                 clearTimeout(timeoutFn);
                 $("#outerdivprogress").css("opacity","0");
                 timeoutFn = undefined;
               } else if (perc <= 100) {
                 $("#outerdivprogress span").html(perc + "%");
                 const check = true
                 updateProgress(100-perc);
                 timeoutFn = setTimeout(animateUpdate, timeoutVal);

               }
             }
             }
           });
         });
      </script>
      <div id="outerdivprogress">
         <div id="cont" data-pct="50">
            <svg id="svg" width="200" height="200" viewPort="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg">
               <circle id="fill" r="90" cx="100" cy="100" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0">
               </circle>
               <circle id="bar" r="90" cx="100" cy="100" fill="transparent" stroke-dasharray="565.48" stroke-dashoffset="0">
               </circle>
            </svg>
         </div>
         <span>100%</span>
         <!-- <b><img src="src/img/timer.svg"></b> -->
      </div>
      <script type="text/x-template" id="app_template">
         <div id="app">
         	<div class="chat-input2" v-show="showInput">
         		<div>
         			<span>CHAT | CIDADE ROLEPLAY</span>
         		</div>
         	</div>


         	<div class="chat-window" :class="{ 'fadeOutUp animated': !showWindow, 'hidden': shouldHide }">
         		<div class="chat-messages" ref="messages">
         			<message v-for="msg in messages"
         			:templates="templates"
         			:multiline="msg.multiline"
         			:args="msg.args"
         			:color="msg.color"
         			:template="msg.template"
         			:template-id="msg.templateId"
         			:key="msg"></message>
         		</div>
         	</div>

         	<div class="chat-input" v-show="showInput">
         		<div>
         			<textarea v-model="message"
         			ref="input"
         			style="resize: none"
         			type="text"
         			autofocus
         			spellcheck="false"
         			@keyup.esc="hideInput"
         			@keydown="keyDown"
         			maxlength="200"
         			@keypress.enter.prevent="send"></textarea>
         		</div>
         		<div class="icon"><i class="fas fa-paper-plane"></i></div>
         	</div>


         </div>
      </script>
      <script type="text/x-template" id="message_template">
         <div class="msg" :class="{ multiline }">
         	<span v-html="textEscaped"></span>
         </div>

      </script>
      <script src="src/js/utils/Message.js"></script>
      <script src="src/js/chat.js"></script>
      <script src="src/js/utils/font.js"></script>
      <script>
         window.post = (url, data) => {
           var request = new XMLHttpRequest();
           request.open('POST', url, true);
           request.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
           request.send(data);
         }

         const instance = new Vue({ el: '#app', render: h => h(APP) });

         window.emulate = (type, detail = {}) => {
           detail.type = type;
           window.dispatchEvent(new CustomEvent("message", { detail }));
         };
      </script>
   </body>
   <script src="nui://game/ui/jquery.js" type="text/javascript"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src="src/js/hud.js"></script>
   <script src="src/js/notify.js"></script>
   <script src="src/js/notifyitens.js"></script>
   <script src="src/js/progress.js"></script>
</html>
